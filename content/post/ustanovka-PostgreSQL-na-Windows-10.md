+++
title = "Установка PostgreSQL 12 на Windows 10"
date = "2020-08-20"
tags = [
    "PostgreSQL",
    "SQL",
    "Windows 10"
]
+++

В этой статье мы рассмотрим, как установить PostgreSQL 12 на Windows 10.
Кроме того, также установим и настроим pgAdmin 4, который является стандартным и бесплатным графическим инструментом управления СУБД PostgreSQL, который можно использовать для написания SQL-запросов, разработки процедур, функций, а также для администрирования PostgreSQL.

<!--more-->

## Что такое PostgreSQL?
**PostgreSQL**  – это бесплатная объектно-реляционная система управления базами данных (СУБД). PostgreSQL реализован для множеств ОС, таких как: BSD, Linux, macOS, Solaris и Windows.
PostgreSQL использует язык PL/pgSQL

### PL/pgSQL – процедурное расширение языка SQL, разработанное и используемое в СУБД PostgreSQL.
**Язык PL/pgSQL** спроектирован для создания функций, триггеров, а также для добавления управляющих структур в язык SQL, и для помощи нам в выполнении сложных вычислений.
PostgreSQL – одна из самых популярных СУБД.
На момент написания этой статьи мы будем устанавливать самую последнюю версию PostgreSQL 12.

### Системные требования для установки PostgreSQL 12 в Windows
PostgreSQL 12 не может быть установлен на всех версиях Windows, в частности, официально поддерживаются следующие версии и только 64-разрядные:
* Windows Server 2012 R2;
* Windows Server 2016;
* Windows Server 2019

Как видим, в официальном списке нет Windows 10, но установка в этой системе пройдет гладко, как и последующее функционирование PostgreSQL.

Кроме того, существуют и другие требования:
* Процессор с частотой не менее 1 ГГц;
* 2 Гб оперативной памяти;
* Не менее 512 Мб свободного дискового пространства (рекомендуется больше для установки дополнительных компонентов);
* Также рекомендуется установить все обновления ОС Windows.

## Установка PostgreSQL 12 и pgAdmin 4 на Windows 10
Итак, давайте перейдем к процессу установки и рассмотрим все этапы, которые необходимо выполнить, чтобы установить PostgreSQL 12 и pgAdmin 4 на Windows 10.

### Step 1. Загрузка инсталлятора для Windows
Как ранее уже говорилось, PostgreSQL реализован для многих платформ, но т.к. будем устанавливать PostgreSQL на Windows, нам потребуется соответствующий установщик Windows. Конечно, можно скачать этот дистрибутив с официального веб-сайта PostgreSQL, вот [страница загрузки](https://www.postgresql.org/download/windows/). После перехода на страницу нам нужно нажать на ссылку “Download the installer”, в результате чего попадаем на сайт EnterpriseDB, который делает графические дистрибутивы PostgreSQL для многих платформ, включая Windows, поэтому можем сразу перейти [на этот сайт](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads).
Здесь нам предоставлен выбор версии и платформы PostgreSQL, в моем случае я выбираю PostgreSQL 12 и Windows x86-64.
В итоге мы загрузили файл **postgresql-12.3-2-windows-x64.exe** размером 194Мб (Версия 12.3-2 доступна на момент написания статьи).

### Step 2. Запускаем установщик PostgreSQL
Теперь, чтобы начать установку, нам нужно запустить загруженный файл (установка PostgreSQL требует прав администратора).
После запуска откроется экран приветствия, щелкаем по кнопке Next.

### Step 3. Указываем каталог для установки PostgreSQL 12
Далее, при необходимости, мы можем указать путь к каталогу, в который мы хотим установить PostgreSQL 12, но мы можем оставить его по умолчанию. Щелкаем по кнопке Next.

![](https://i.postimg.cc/CK5kvJT4/01.png)

### Step 4. Выбираем компоненты для установки
Выбираем компоненты, которые нам нужно установить. Для этого мы отмечаем флажками те компоненты, которые нам нужны, и убеждаемся, что нам нужны PostgreSQL Server и pgAdmin 4.
Утилиты командной строки и Stack Builder можно установить самостоятельно, т.е. не надо их ставить. Нажимаем Next.

![](https://i.postimg.cc/26BvY65b/02.png)

### Step 5. Указываем каталог для хранения файлов базы данных
На данном этапе мы указываем каталог, в котором по умолчанию будут располагаться файлы БД.
Примечание. В случае тестовой установки, например, для обучения, можно оставить это по умолчанию, но “боевые” БД всегда должны храниться в отдельном месте, поэтому, если планируется использовать сервер PostgreSQL для каких-то других целей, лучше указать отдельный диск.
Щелкаем по кнопке Next.

![](https://i.postimg.cc/SKP8H8mb/03.png)

### Step 6. Назначаем пароль для пользователя Postgres
Далее нам нужно задать пароль для пользователя Postgres – это администратор сервера PostgreSQL с максимальными правами.
Вводим и подтверждаем пароль.

![](https://i.postimg.cc/15S6xy1X/04.png)

### Step 7. Определяем порта для экземпляра PostgreSQL
На этом этапе при необходимости можем изменить порт, на котором будет работать сервер PostgreSQL. Если у нас нет такой необходимости, то оставляем его по умолчанию.

![](https://i.postimg.cc/4ykcxgK8/05.png)

### Step 8. Указываем кодировку данных в базе
Здесь мы можем задать конкретную кодировку данных в БД. Для этого нам нужно выбрать что-то из выпадающего списка.
Однако мы можем оставить все по умолчанию, а именно Default locale, нажав на кнопку Next.

![](https://i.postimg.cc/NF6HyzmQ/06.png)

### Step 9. Проверяем параметры установки PostgreSQL
Вот и все готово к установке. На этом этапе мы проверяем введенные ранее параметры и, если все правильно, то нажимаем Next.

![](https://i.postimg.cc/Z57yy3Bv/07.png)

### Step 10. Запускаем процесс установки
Далее мы увидим еще одно дополнительное окно, в котором мы должны нажать на кнопку Next, чтобы начать процесс установки PostgreSQL на нашем компьютере.

![](https://i.postimg.cc/dQrdSLXg/08.png)

Установка началась, и она продлится буквально одну минуту.

![](https://i.postimg.cc/Hksyx3xC/09.png)

### Step 11. Завершаем процесс установки
Когда появится окно сообщения “Completing the PostgreSQL Setup Wizard”, то это значит, что установка PostgreSQL 12 и pgAdmin 4 завершена.
Щелкаем по кнопке Finish.

![](https://i.postimg.cc/4N1csjX5/10.png)

## Запуск и настройка pgAdmin 4

PostgreSQL 12 и pgAdmin 4 мы установили, а теперь давайте запустим pgAdmin 4, подключимся к серверу и настроим рабочую среду pgAdmin.
Чтобы запустить pgAdmin 4, переходим в меню Start > PostgreSQL 12 > pgAdmin 4.

### Подключение к серверу PostgreSQL 12
**pgAdmin 4** имеет веб-интерфейс, поэтому в результате мы должны запустить свой браузер и открыть приложение pgAdmin 4.
При первом запуске pgAdmin 4 увидим окно “Set Master Password”, в котором мы должны задать “master password”. Этого можно не делать, но если сохраняем пароль пользователя (флажок “Save password”), например, чтобы при каждом подключении не нужно вводить пароль, то настоятельно рекомендуется придумать и ввести дополнительный пароль. Это делается один раз.
Введем пароль и щелкаем по кнопке OK.

![](https://i.postimg.cc/zf4bxrkJ/11.png)

Чтобы подключиться к недавно установленному локальному серверу PostgreSQL, в браузере сервера нажимаем на Servers > PostgreSQL 12. Откроется окно “Connect to Server”, в котором мы введем пароль пользователя postgres, т.е. тот же пароль, который мы создали во время установки Postgres. После того, как ввели пароль, ставим галочку на “Save Password” для сохранения пароля, и при каждом запуске приложения уже не нужно вводить (благодаря функции “master password” все пароли, сохраненные таким образом, будут дополнительно зашифрованы).

![](https://i.postimg.cc/Y9g4VsXQ/12.png)

В результате чего мы подключимся к локальному серверу PostgreSQL 12 и увидим все объекты, которые находятся на этом сервере.

![](https://i.postimg.cc/D0TWKPDH/13.png)

### Пример написания SQL-запроса в Query Tool
Чтобы убедиться, что наш сервер PostgreSQL работает, давайте напишем простой запрос SELECT, который покажет нам версию сервера PostgreSQL.
Для написания запросов SQL в pgAdmin воспользуемся Query Tool. Мы его запустим с помощью значка на панели или из меню Tools.
После того, как открыли Query Tool, напишем следующее предложение:
```sql
SELECT VERSION ()
```
Этот запрос покажет версию PostgreSQL. Как мы видим, все работает.

![](https://i.postimg.cc/VNJ096nG/14.png)